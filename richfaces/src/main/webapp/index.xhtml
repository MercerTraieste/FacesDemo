<?xml version="1.0" encoding="UTF-8"?>

<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:a4j="http://richfaces.org/a4j"
                xmlns:rich="http://richfaces.org/rich"
                template="/templates/template.xhtml">

    <ui:define name="title">RichFrichs</ui:define>

    <ui:define name="body">
        <h:form prependId="false">
            <rich:panel header="#{text['panelHeader1']}">
                <h:panelGrid columns="2">
                    <h:outputText id="languageLabel" value="#{text['language']}"/>
                    <rich:select value="#{localeBean.language}">
                        <f:selectItems value="#{localeBean.languages}"/>
                        <a4j:ajax event="selectitem" execute="@all" render="@all"/>
                    </rich:select>
                </h:panelGrid>
            </rich:panel>

            <rich:panel header="#{text['panelHeader2']}">
                <rich:tabPanel switchType="client">

                    <rich:tab name="#{text['tabsFormLabel']}">
                        <h:panelGrid columns="2">
                            <h:outputText value="#{text['calendar']}"/>
                            <rich:calendar value="#{richBean.calendar}"/>

                            <h:outputText value="#{text['firstName']}"/>
                            <h:inputText id="nameInput" value="#{richBean.name}">
                                <a4j:ajax event="keyup" render="output"/>
                            </h:inputText>
                            <br/>
                            <h:panelGroup id="output">
                                <h:outputText value="#{richBean.name}!"
                                              rendered="#{not empty richBean.name}"/>
                            </h:panelGroup>
                        </h:panelGrid>
                    </rich:tab>

                    <rich:tab name="#{text['tabsTableLabel']}">

                        <div style="height:150px ; width:100%; overflow-x:auto; overflow-y:scroll">
                            <rich:dataTable value="#{dataBean.children}"
                                            var="child"
                                            style="max-height:300px; width:300px; overflow:auto"
                                    >
                                <f:facet name="header">
                                    <h:outputText value="Cars marketplace"/>
                                </f:facet>
                                <rich:column sortBy="#{child.id}" style="width:75px">
                                    <f:facet name="header">
                                        <h:outputText value="#{text['id']}"/>
                                    </f:facet>
                                    <h:outputText value="#{child.id}"/>
                                </rich:column>
                                <rich:column sortBy="#{child.firstName}"
                                             style="width:175px">
                                    <f:facet name="header">
                                        <h:outputText value="#{text['firstName']}"/>
                                    </f:facet>
                                    <h:outputText value="#{child.firstName}"/>
                                </rich:column>
                                <rich:column sortBy="#{child.lastName}"
                                             style="width:175px">
                                    <f:facet name="header">
                                        <h:outputText value="#{text['lastName']}"/>
                                    </f:facet>
                                    <h:outputText value="#{child.lastName}"/>
                                </rich:column>
                                <rich:column sortBy="#{child.age}" style="width:75px">
                                    <f:facet name="header">
                                        <h:outputText value="#{text['age']}"/>
                                    </f:facet>
                                    <h:outputText value="#{child.age}"/>
                                </rich:column>
                                <rich:column sortBy="#{child.sex}" style="width:75px">
                                    <f:facet name="header">
                                        <h:outputText value="#{text['sex']}"/>
                                    </f:facet>
                                    <h:outputText value="#{child.sex}"/>
                                </rich:column>
                            </rich:dataTable>
                        </div>
                    </rich:tab>

                    <rich:tab name="#{text['tabsTextEditorLabel']}">

                        <rich:editor toolbar="full" plugins="save,paste" value="#{richBean.editorValue}">
                        </rich:editor>

                        <a4j:commandButton value="Save" render="comment"/>
                        <h:panelGrid columns="2">
                            <h:outputText value="#{text['comment']} :"/>
                            <h:outputText id="comment" value="#{richBean.editorValue}" rendered="true"/>
                        </h:panelGrid>
                    </rich:tab>
                </rich:tabPanel>
            </rich:panel>
        </h:form>
    </ui:define>
</ui:composition>
